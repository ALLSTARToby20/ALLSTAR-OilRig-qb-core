local QBCore = exports['qb-core']:GetCoreObject()

-- Server Events --
RegisterServerEvent("power-oilrig:GivOilRig1")
AddEventHandler("power-oilrig:GivOilRig1", function(amount)
    local src = source
    local Player = QBCore.Functions.GetPlayer(src)
    local a = 0
    repeat
        Player.Functions.AddItem("crude_oil", 1)
        TriggerClientEvent('inventory:client:ItemBox', source, QBCore.Shared.Items["crude_oil"], "add")
        a = a + 1
    until( a == amount )   
end)

RegisterServerEvent("power-oilrig:GivOilRig2")
AddEventHandler("power-oilrig:GivOilRig2", function(amount)
    local src = source
    local Player = QBCore.Functions.GetPlayer(src)
    local a = 0
    repeat
        Player.Functions.AddItem("crude_oil", 1)
        TriggerClientEvent('inventory:client:ItemBox', source, QBCore.Shared.Items["crude_oil"], "add")
        a = a + 1
    until( a == amount )   
end)

RegisterServerEvent("power-oilrig:GivOilRig3")
AddEventHandler("power-oilrig:GivOilRig3", function(amount)
    local src = source
    local Player = QBCore.Functions.GetPlayer(src)
    local a = 0
    repeat
        Player.Functions.AddItem("crude_oil", 1)
        TriggerClientEvent('inventory:client:ItemBox', source, QBCore.Shared.Items["crude_oil"], "add")
        a = a + 1
    until( a == amount )   
end)

RegisterServerEvent("power-oilrig:GivOilRig4")
AddEventHandler("power-oilrig:GivOilRig4", function(amount)
    local src = source
    local Player = QBCore.Functions.GetPlayer(src)
    local a = 0
    repeat
        Player.Functions.AddItem("crude_oil", 1)
        TriggerClientEvent('inventory:client:ItemBox', source, QBCore.Shared.Items["crude_oil"], "add")
        a = a + 1
    until( a == amount )   
end)

RegisterServerEvent("power-oilrig:GivOilRig5")
AddEventHandler("power-oilrig:GivOilRig5", function(amount)
    local src = source
    local Player = QBCore.Functions.GetPlayer(src)
    local a = 0
    repeat
        Player.Functions.AddItem("crude_oil", 1)
        TriggerClientEvent('inventory:client:ItemBox', source, QBCore.Shared.Items["crude_oil"], "add")
        a = a + 1
    until( a == amount )   
end)

RegisterServerEvent("power-oilrig:GivOilRig6")
AddEventHandler("power-oilrig:GivOilRig6", function(amount)
    local src = source
    local Player = QBCore.Functions.GetPlayer(src)
    local a = 0
    repeat
        Player.Functions.AddItem("crude_oil", 1)
        TriggerClientEvent('inventory:client:ItemBox', source, QBCore.Shared.Items["crude_oil"], "add")
        a = a + 1
    until( a == amount )   
end)

RegisterServerEvent("power-oilrig:GivOilRig7")
AddEventHandler("power-oilrig:GivOilRig7", function(amount)
    local src = source
    local Player = QBCore.Functions.GetPlayer(src)
    local a = 0
    repeat
        Player.Functions.AddItem("crude_oil", 1)
        TriggerClientEvent('inventory:client:ItemBox', source, QBCore.Shared.Items["crude_oil"], "add")
        a = a + 1
    until( a == amount )   
end)

RegisterServerEvent("power-oilrig:GivOilRig8")
AddEventHandler("power-oilrig:GivOilRig8", function(amount)
    local src = source
    local Player = QBCore.Functions.GetPlayer(src)
    local a = 0
    repeat
        Player.Functions.AddItem("crude_oil", 1)
        TriggerClientEvent('inventory:client:ItemBox', source, QBCore.Shared.Items["crude_oil"], "add")
        a = a + 1
    until( a == amount )   
end)

RegisterServerEvent("power-oilrig:GivOilRig9")
AddEventHandler("power-oilrig:GivOilRig9", function(amount)
    local src = source
    local Player = QBCore.Functions.GetPlayer(src)
    local a = 0
    repeat
        Player.Functions.AddItem("crude_oil", 1)
        TriggerClientEvent('inventory:client:ItemBox', source, QBCore.Shared.Items["crude_oil"], "add")
        a = a + 1
    until( a == amount )   
end)

RegisterServerEvent("power-oilrig:GivOilRig10")
AddEventHandler("power-oilrig:GivOilRig10", function(amount)
    local src = source
    local Player = QBCore.Functions.GetPlayer(src)
    local a = 0
    repeat
        Player.Functions.AddItem("crude_oil", 1)
        TriggerClientEvent('inventory:client:ItemBox', source, QBCore.Shared.Items["crude_oil"], "add")
        a = a + 1
    until( a == amount )   
end)

RegisterServerEvent("power-oilrig:GivOilRig11")
AddEventHandler("power-oilrig:GivOilRig11", function(amount)
    local src = source
    local Player = QBCore.Functions.GetPlayer(src)
    local a = 0
    repeat
        Player.Functions.AddItem("crude_oil", 1)
        TriggerClientEvent('inventory:client:ItemBox', source, QBCore.Shared.Items["crude_oil"], "add")
        a = a + 1
    until( a == amount )   
end)

RegisterServerEvent("power-oilrig:GivOilRig12")
AddEventHandler("power-oilrig:GivOilRig12", function(amount)
    local src = source
    local Player = QBCore.Functions.GetPlayer(src)
    local a = 0
    repeat
        Player.Functions.AddItem("crude_oil", 1)
        TriggerClientEvent('inventory:client:ItemBox', source, QBCore.Shared.Items["crude_oil"], "add")
        a = a + 1
    until( a == amount )   
end)

RegisterServerEvent("power-oilrig:GivOilRig13")
AddEventHandler("power-oilrig:GivOilRig13", function(amount)
    local src = source
    local Player = QBCore.Functions.GetPlayer(src)
    local a = 0
    repeat
        Player.Functions.AddItem("crude_oil", 1)
        TriggerClientEvent('inventory:client:ItemBox', source, QBCore.Shared.Items["crude_oil"], "add")
        a = a + 1
    until( a == amount )   
end)

RegisterServerEvent("power-oilrig:GivOilRig14")
AddEventHandler("power-oilrig:GivOilRig14", function(amount)
    local src = source
    local Player = QBCore.Functions.GetPlayer(src)
    local a = 0
    repeat
        Player.Functions.AddItem("crude_oil", 1)
        TriggerClientEvent('inventory:client:ItemBox', source, QBCore.Shared.Items["crude_oil"], "add")
        a = a + 1
    until( a == amount )   
end)

RegisterServerEvent("power-oilrig:GivOilRig15")
AddEventHandler("power-oilrig:GivOilRig15", function(amount)
    local src = source
    local Player = QBCore.Functions.GetPlayer(src)
    local a = 0
    repeat
        Player.Functions.AddItem("crude_oil", 1)
        TriggerClientEvent('inventory:client:ItemBox', source, QBCore.Shared.Items["crude_oil"], "add")
        a = a + 1
    until( a == amount )   
end)

RegisterServerEvent('power-convert:fuel40pserver')
AddEventHandler('power-convert:fuel40pserver', function()
    local src = source
    local Player = QBCore.Functions.GetPlayer(src)

    TriggerClientEvent('inventory:client:ItemBox', source, QBCore.Shared.Items["crude_oil"], "remove")
    TriggerClientEvent('inventory:client:ItemBox', source, QBCore.Shared.Items["fuel"], "add")
    Wait(50)
    Player.Functions.RemoveItem("crude_oil", 1)
    Player.Functions.AddItem("fuel", 1)
end)

RegisterServerEvent('power-convert:fuel60pserver')
AddEventHandler('power-convert:fuel60pserver', function()
    local src = source
    local Player = QBCore.Functions.GetPlayer(src)

    TriggerClientEvent('inventory:client:ItemBox', source, QBCore.Shared.Items["crude_oil"], "remove")
    TriggerClientEvent('inventory:client:ItemBox', source, QBCore.Shared.Items["fuel"], "add")
    Wait(50)
    Player.Functions.RemoveItem("crude_oil", 1)
    Player.Functions.AddItem("fuel60", 1)
end)

RegisterServerEvent('power-convert:fuel80pserver')
AddEventHandler('power-convert:fuel80pserver', function()
    local src = source
    local Player = QBCore.Functions.GetPlayer(src)

    TriggerClientEvent('inventory:client:ItemBox', source, QBCore.Shared.Items["crude_oil"], "remove")
    TriggerClientEvent('inventory:client:ItemBox', source, QBCore.Shared.Items["fuel"], "add")
    Wait(50)
    Player.Functions.RemoveItem("crude_oil", 1)
    Player.Functions.AddItem("fuel80", 1)
end)

RegisterServerEvent('power-convert:fuel100pserver')
AddEventHandler('power-convert:fuel100pserver', function()
    local src = source
    local Player = QBCore.Functions.GetPlayer(src)

    TriggerClientEvent('inventory:client:ItemBox', source, QBCore.Shared.Items["crude_oil"], "remove")
    TriggerClientEvent('inventory:client:ItemBox', source, QBCore.Shared.Items["fuel"], "add")
    Wait(50)
    Player.Functions.RemoveItem("crude_oil", 1)
    Player.Functions.AddItem("fuel100", 1)
end)

RegisterServerEvent('power-omdan: you failed')
AddEventHandler('power-omdan: you failed', function()
    local src = source
    local Player = QBCore.Functions.GetPlayer(src)

    TriggerClientEvent('inventory:client:ItemBox', source, QBCore.Shared.Items["crude_oil"], "remove")
    Wait(50)
    Player.Functions.RemoveItem("crude_oil", 1)
end)

-- Salg
RegisterServerEvent('power sales: fuel40pserver')
AddEventHandler('power sales: fuel40pserver', function()
    local src = source
    local Player = QBCore.Functions.GetPlayer(src)

    TriggerClientEvent('inventory:client:ItemBox', source, QBCore.Shared.Items["fuel"], "remove")
    Wait(50)
    Player.Functions.RemoveItem("fuel", 1)
    Player.Functions.AddMoney('cash', tonumber(Config.Fuelprice40p))
    TriggerClientEvent('QBCore:Notify', src, "Sold fuel for " .. Config.Fuelprice40p .. " " .. Config.Currency .. " ", "success")
end)

RegisterServerEvent('power sales: fuel60pserver')
AddEventHandler('power sales: fuel60pserver', function()
    local src = source
    local Player = QBCore.Functions.GetPlayer(src)

    TriggerClientEvent('inventory:client:ItemBox', source, QBCore.Shared.Items["fuel60"], "remove")
    Wait(50)
    Player.Functions.RemoveItem("fuel60", 1)
    Player.Functions.AddMoney('cash', tonumber(Config.Fuelprice60p))
    TriggerClientEvent('QBCore:Notify', src, "Sold fuel for " .. Config.Fuelprice60p .. " " .. Config.Currency .. " ", "success")
end)

RegisterServerEvent('power sales: fuel80pserver')
AddEventHandler('power sales: fuel80pserver', function()
    local src = source
    local Player = QBCore.Functions.GetPlayer(src)

    TriggerClientEvent('inventory:client:ItemBox', source, QBCore.Shared.Items["fuel80"], "remove")
    Wait(50)
    Player.Functions.RemoveItem("fuel80", 1)
    Player.Functions.AddMoney('cash', tonumber(Config.Fuelprice80p))
    TriggerClientEvent('QBCore:Notify', src, "Sold fuel for " .. Config.Fuelprice80p .. " " .. Config.Currency .. " ", "success")
end)

RegisterServerEvent('power sales: fuel100pserver')
AddEventHandler('power sales: fuel100pserver', function()
    local src = source
    local Player = QBCore.Functions.GetPlayer(src)

    TriggerClientEvent('inventory:client:ItemBox', source, QBCore.Shared.Items["fuel100"], "remove")
    Wait(50)
    Player.Functions.RemoveItem("fuel100", 1)
    Player.Functions.AddMoney('cash', tonumber(Config.Fuelprice100p))
    TriggerClientEvent('QBCore:Notify', src, "Sold fuel for " .. Config.Fuelprice100p .. " " .. Config.Currency .. " ", "success")
end)